<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SAMI</title>
  <link rel="stylesheet" href="./style/sv-homeinfo-style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
          href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;900&display=swap"
          rel="stylesheet"
  />
  <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
          crossorigin="anonymous"
  />
  <script
          src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
          crossorigin="anonymous"
  ></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Roboto;
    }
    #header {
      background-color: #aee2ff;
    }

    #header #header-content {
      padding-top: 5px;
      padding-bottom: 5px;
    }

    #header #header-content img {
      width: 7%;
      margin-right: 5px;
    }

    #header #header-content h1 {
      font-size: 20px;
      margin-bottom: 0;
      font-weight: 900;
      color: #02659a;
    }

    #header #header-content p {
      font-size: 15px;
      margin-bottom: 0;
      font-weight: 700;
      color: #34424a;
    }

    #header #header-content .nav-container a {
      margin-left: 15px;
      color: #02659a;
      text-decoration: none;
    }

    #body {
      background-color: #f1f1f1;
    }

    #body #body-content {
      padding-top: 20px;
      padding-bottom: 20px;
    }

    #body #body-content #info-title {
      font-size: larger;
      font-weight: 800;
    }
  </style>
</head>
<body>
<header>
  <div id="header">
    <div
            id="header-content"
            class="d-flex align-items-center justify-content-between"
    >
      <div
              class="container d-flex justify-content-between align-items-center"
              style="background-color: #aee2ff"
      >
        <div class="d-flex align-items-center">
          <img src="https://i.imgur.com/MCbDOTd.png" alt="" />
          <h1>HỆ THỐNG QUẢN LÝ ĐỒ ÁN</h1>
        </div>
        <div class="nav-container">
          <nav class="nav">
            <p id="curUser"></p>
            <a href="sv-apply" onclick="">Đăng kí ĐA</a>
            <a href="#" onclick="">Quản lý ĐA</a>
            <a href="#" onclick="">Tra cứu ĐA</a>
          </nav>
        </div>
      </div>
    </div>
  </div>
</header>
<div id="body">
  <div id="body-content" class="container">
    <div id="student-info">
      <p id="info-title">Thông tin cá nhân</p>
      <form action="http://localhost:8080/gv-homeinfo/update">
        <div class="row mb-3">
          <label for="fullname" class="col-sm-2 col-form-label"
          >Họ và tên</label
          >
          <div class="col-sm-10">
            <input
                    name="fullname"
                    type="text"
                    class="form-control"
                    id="fullname"
                    placeholder="@..."
                    disabled
            />
          </div>
        </div>
        <div class="row mb-3">
          <label for="teacherId" class="col-sm-2 col-form-label"
          >Mã cán bộ</label
          >
          <div class="col-sm-10">
            <input
                    name="teacherId"
                    type="text"
                    class="form-control"
                    id="teacherId"
                    placeholder="@..."
                    disabled
            />
          </div>
        </div>
        <div class="row mb-3">
          <label for="department" class="col-sm-2 col-form-label">Bộ môn</label>
          <div class="col-sm-10">
            <input
                    name="department"
                    type="text"
                    class="form-control"
                    id="department"
                    placeholder="@..."
                    disabled
            />
          </div>
        </div>
        <div class="row mb-3">
          <label for="expertise" class="col-sm-2 col-form-label">Hướng nghiên cứu</label>
          <div class="col-sm-10">
            <input
                    name="expertise"
                    type="text"
                    class="form-control"
                    id="expertise"
                    placeholder="@..."
            />
          </div>
        </div>
        <div class="row mb-3">
          <label for="phone" class="col-sm-2 col-form-label"
          >Số điện thoại</label
          >
          <div class="col-sm-10">
            <input
                    name="phone"
                    type="text"
                    class="form-control"
                    id="phone"
                    placeholder="@..."
            />
          </div>
        </div>
        <div class="d-grid gap-2 col-6 mx-auto">
          <button type="submit" class="btn btn-primary">
            Cập nhật thông tin
          </button>
        </div>

      </form>
    </div>
  </div>
</div>
<script>
  //Get curUsername
  function getUsername() {
    var xhttp = new XMLHttpRequest();
    let url = "http://localhost:8080/username";
    xhttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        document.getElementById("curUser").innerHTML = this.responseText;
      }
    };
    xhttp.open("GET", url, true);
    xhttp.send();
  }
  getUsername();
  //Get curUsername

  //get current studentInfo
  function getCurTeacherInfo() {
    var xhttp = new XMLHttpRequest();
    let url = "http://localhost:8080/api/getCurTeacherInfo";
    xhttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var teacherInfo = JSON.parse(this.responseText);
        console.log(teacherInfo);
        document.getElementsByName("expertise")[0].placeholder = teacherInfo.expertise;
        document.getElementsByName("fullname")[0].placeholder = teacherInfo.fullName;
        document.getElementsByName("department")[0].placeholder = teacherInfo.department;
        document.getElementsByName("phone")[0].placeholder = teacherInfo.phone;
        document.getElementsByName("teacherId")[0].placeholder = teacherInfo.teacherId;
      }
    };
    xhttp.open("GET", url, true);
    xhttp.send();
  }
  getCurTeacherInfo();
  //get current studentInfo
</script>
</body>
</html>
